
<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta charset="utf-8">
	<title>creativepsyco's Blog</title>

	<meta name="author" content="Mohit Kanwal">
	
	<meta name="description" content="A Blog of all things digital">

	<meta name="HandheldFriendly" content="True" />
	<meta name="MobileOptimized" content="320" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<link href="/atom.xml" rel="alternate" title="creativepsyco's Blog" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Open+Sans:700,400" />
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized-dark.min.css" />
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>


<body class="home-template">
  <header id="site-head">
  <div class="vertical">
    <div id="site-head-content" class="inner">
      <h1 class="blog-title"><a class="no-rollover" href="/">creativepsyco's Blog</a></h1>
      <h2 class="blog-description">Trolling you digitally</h2>
    </div>
  </div>
</header>
  <main class="content" role="main">
    



  
    <article class="post">
      
	
		
	
	<header class="post-header">
		<span class="post-meta">10 Apr 2013</span>
		<h2 class="post-title">
			
			<a href="/blog/2013/04/10/deploying-rails-on-nginx-and-thin/">
			
				Deploying Rails on Nginx and Thin</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>I have been busy lately doing my Final Year Project which comprises of building a web based service for processing analysis jobs on patient data.</p>

<p>I have developed the web service API using <a href="http://rubyonrails.org/">Rails</a> with MySQL being the backend database.</p>

<p>For deployment purposes I had no idea which of the web servers to run as such I naturally googled online and found people talking about <a href="https://github.com/capistrano/capistrano">Capistrano</a>, a great way to have deployment scripts being run on the server.</p>

<p>I needed something simple, I had seen the advantages of using SVN and <a href="http://nginx.com/">Nginx</a> as a means to deploy by SSH-ing to the server. This keeps things simple and lends us as much control as we need. So I explored.</p>


	</section>

    </article>

  
    <article class="post">
      
	
	<header class="post-header">
		<span class="post-meta">09 Feb 2013</span>
		<h2 class="post-title">
			
			<a href="/blog/2013/02/09/singleton-in-python/">
			
				Singleton in Python</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>In my current Final Year Project (FYP) for my undergraduate degree I needed to spawn processes and be able to store their state in the memory so that they can be started/re-started or stopped. I had previously gone about doing the same kind of operation in Java with a Singleton <code>ProcessManager</code> Class so I was pretty sure that such a pattern would exist in Python as well. Turns out, it is a <a href="http://lucumr.pocoo.org/2009/7/24/singletons-and-their-problems-in-python/">bad practice</a> to do so.</p>

<p>Anyways, I could not figure out a better way to do this, so I stuck with Singletons. Moreover it got me the job done.</p>


	</section>

    </article>

  
    <article class="post">
      
	
	<header class="post-header">
		<span class="post-meta">02 Feb 2013</span>
		<h2 class="post-title">
			
			<a href="/blog/2013/02/02/django-dynamic-forms/">
			
				Django Dynamic Forms</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>Here is an example of how to do a dynamic form in Django. I am loving this framework, it&rsquo;s so simple</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">class</span> <span class="nc">ServiceStartForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
</span><span class='line'>    <span class="n">serviceList</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</span><span class='line'>    <span class="k">print</span> <span class="n">serviceList</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</span><span class='line'>    <span class="n">b</span> <span class="o">=</span> <span class="p">{}</span>
</span><span class='line'>    <span class="k">for</span> <span class="n">aService</span> <span class="ow">in</span> <span class="n">serviceList</span><span class="p">:</span>
</span><span class='line'>        <span class="n">b</span><span class="p">[</span><span class="n">aService</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">aService</span><span class="o">.</span><span class="n">name</span>
</span><span class='line'>    <span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</span><span class='line'>    <span class="k">print</span> <span class="s">&quot;Within the form, &quot;</span><span class="p">,</span> <span class="n">serviceList</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</span><span class='line'>    <span class="n">serviceChoice</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">ChoiceField</span><span class="p">(</span><span class="n">choices</span><span class="o">=</span><span class="n">c</span><span class="p">,</span> <span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">Select</span><span class="p">())</span>
</span><span class='line'>    <span class="n">input_directory</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</span><span class='line'>    <span class="n">output_directory</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span class='line'>        <span class="nb">super</span><span class="p">(</span><span class="n">ServiceStartForm</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span class='line'>        <span class="n">serviceList</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Service</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</span><span class='line'>        <span class="n">b</span> <span class="o">=</span> <span class="p">{}</span>
</span><span class='line'>        <span class="k">for</span> <span class="n">aService</span> <span class="ow">in</span> <span class="n">serviceList</span><span class="p">:</span>
</span><span class='line'>            <span class="n">b</span><span class="p">[</span><span class="n">aService</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">aService</span><span class="o">.</span><span class="n">name</span>
</span><span class='line'>        <span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</span><span class='line'>        <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="s">&quot;serviceChoice&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">choices</span> <span class="o">=</span> <span class="n">c</span>
</span></code></pre></td></tr></table></div></figure>


<p>Enjoy :)</p>

	</section>

    </article>

  
    <article class="post">
      
	
	<header class="post-header">
		<span class="post-meta">27 Jan 2013</span>
		<h2 class="post-title">
			
			<a href="/blog/2013/01/27/django-and-travis/">
			
				Django and Travis</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>A sample <code>.travis</code> file to allow you to run and test on the <a href="http://travis-ci.org">Travis CI</a>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">language</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">python</span>
</span><span class='line'><span class="l-Scalar-Plain">python</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="c1"># - &quot;2.6&quot;</span>
</span><span class='line'>  <span class="p-Indicator">-</span> <span class="s">&quot;2.7&quot;</span>
</span><span class='line'><span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mysql</span>
</span><span class='line'><span class="l-Scalar-Plain">env</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="c1"># - DJANGO=1.2.7</span>
</span><span class='line'>  <span class="c1"># - DJANGO=1.3.1</span>
</span><span class='line'>  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">DJANGO=1.4.3 DJANGO_SETTINGS_MODULE=&quot;mysite.travis_settings&quot;</span>
</span><span class='line'><span class="l-Scalar-Plain">install</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">pip install -q Django==$DJANGO --use-mirrors</span>
</span><span class='line'>  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">pip install pep8 --use-mirrors</span>
</span><span class='line'>  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">pip install mysql-python --use-mirrors</span>
</span><span class='line'>  <span class="c1"># - pip install https://github.com/dcramer/pyflakes/tarball/master</span>
</span><span class='line'>  <span class="c1"># - pip install -q -e . --use-mirrors</span>
</span><span class='line'><span class="l-Scalar-Plain">before_script</span><span class="p-Indicator">:</span>
</span><span class='line'><span class="c1">#   - &quot;pep8 --exclude=migrations --ignore=E501,E225 src&quot;</span>
</span><span class='line'><span class="c1">#   - pyflakes -x W src</span>
</span><span class='line'>  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">mysql -e &#39;create database mysite_db;&#39;</span>
</span><span class='line'>  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">python manage.py syncdb --noinput</span>
</span><span class='line'><span class="l-Scalar-Plain">script</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">python manage.py test</span>
</span></code></pre></td></tr></table></div></figure>


<p>Enjoy :)</p>

	</section>

    </article>

  
    <article class="post">
      
	
	<header class="post-header">
		<span class="post-meta">24 Jan 2013</span>
		<h2 class="post-title">
			
			<a href="/blog/2013/01/24/django-fun/">
			
				Django Fun</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>Here&rsquo;s how to install python on your web server :)</p>

<h3>Log in using SSH access</h3>

<p>This process may change from different kind of hosts to different machines so find out first.</p>

<h3>Install Python 2.7.2</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir ~/python
</span><span class='line'>cd ~/python
</span><span class='line'>wget http://www.python.org/ftp/python/2.7.2/Python-2.7.2.tgz
</span><span class='line'>tar zxfv Python-2.7.2.tgz
</span><span class='line'>rm -rf Python-2.7.2.tgz
</span><span class='line'>find ~/python -type d | xargs chmod 0755
</span><span class='line'>cd Python-2.7.2
</span><span class='line'>./configure --prefix=$HOME/python
</span><span class='line'>make
</span><span class='line'>make install
</span><span class='line'>cd ..
</span><span class='line'>rm -rf Python-2.7.2</span></code></pre></td></tr></table></div></figure>


<h3>Modify ~/.bashrc</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vim ~/.bashrc # Press i and enter the following:
</span><span class='line'>export PATH=$HOME/python/bin:$PATH # press &lt;escape&gt;:wq&lt;enter&gt;
</span><span class='line'>source ~/.bashrc # Whenever you want to work using Python 2.7 in the
</span><span class='line'>                 # console you will need to enter this</span></code></pre></td></tr></table></div></figure>


<p>Test your Python install</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>python -V # This should output "Python 2.7.2"</span></code></pre></td></tr></table></div></figure>


<h3>Install setuptools</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>wget http://pypi.python.org/packages/source/s/setuptools/setuptools-0.6c11.tar.gz
</span><span class='line'>tar xzvf setuptools-0.6c11.tar.gz
</span><span class='line'>rm setuptools-0.6c11.tar.gz
</span><span class='line'>cd setuptools-0.6c11
</span><span class='line'>python setup.py install
</span><span class='line'>cd ..
</span><span class='line'>rm -rf setuptools-0.6c11</span></code></pre></td></tr></table></div></figure>


<h3>Install pip</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>wget http://pypi.python.org/packages/source/p/pip/pip-1.2.1.tar.gz
</span><span class='line'>tar xzvf pip-1.2.1.tar.gz
</span><span class='line'>rm pip-1.2.1.tar.gz
</span><span class='line'>cd pip-1.2.1
</span><span class='line'>python setup.py install
</span><span class='line'>cd ..
</span><span class='line'>rm -rf pip-1.2.1</span></code></pre></td></tr></table></div></figure>


<h3>Install Django, flup and MySQL Python Module</h3>

<p>Now that pip is installed this is easy part.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>pip install Django
</span><span class='line'>pip install flup
</span><span class='line'>pip install MySQL-python</span></code></pre></td></tr></table></div></figure>


<h3>Create .htaccess</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd ~/public_html/mysite # where mysite is the root folder of your site
</span><span class='line'>vim .htaccess # Press i then enter the following:
</span><span class='line'>AddHandler fcgid-script .fcgi
</span><span class='line'>RewriteEngine On
</span><span class='line'>RewriteCond %{REQUEST_FILENAME} !-f
</span><span class='line'>RewriteRule ^(.*)$ mysite.fcgi/$1 [QSA,L] # Press wq</span></code></pre></td></tr></table></div></figure>


<h3>Configure Your Website</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir ~/django-projects
</span><span class='line'>cd ~/django-projects
</span><span class='line'>django-admin.py startproject myproject # I use the same name as mysite
</span><span class='line'>                                       # without any periods
</span><span class='line'>cd ~/public_html/mysite
</span><span class='line'>vim mysite.fcgi # Press i then enter the following:
</span><span class='line'>#!/homeX/your_username/python/bin/python
</span><span class='line'>import sys, os
</span><span class='line'>
</span><span class='line'># Where /home/your_username is the path to your home directory
</span><span class='line'>sys.path.insert(0, "/home/your_username/python")
</span><span class='line'>sys.path.insert(13, "/home/your_username/django-projects/myproject")
</span><span class='line'>
</span><span class='line'>os.environ['DJANGO_SETTINGS_MODULE'] = 'myproject.settings'
</span><span class='line'>from django.core.servers.fastcgi import runfastcgi
</span><span class='line'>runfastcgi(method="threaded", daemonize="false") # Press &lt;escape&gt;wq&lt;enter&gt;
</span><span class='line'>chmod 0755 mysite.fcgi</span></code></pre></td></tr></table></div></figure>


<p></p>

<h3>Test your configuration</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>python mysite.fcgi
</span><span class='line'>
</span><span class='line'>
</span><span class='line'># Fix any errors and run the command again. When you have an HTML page
</span><span class='line'># returned your Django install is complete. You should be able to go to your
</span><span class='line'># sites URL and view the Django welcome page.</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>That’s everything</p>

<p>Now you can get to work and create some real Django pages.</p>

<h3>A Few Tips</h3>

<p>Remember to install every python and django package using pip – that way they will be available to your django app.
Keep in mind that every Django command like syncdb, collectstatic  etc. should be run using the correct version of Python. This means using source ~/.bashrc every time you log into your SSH client e.g.
source ~/.bashrc
python manage.py syncdb
python manage.py shell
etc.</p>

	</section>

    </article>

  
    <article class="post">
      
	
	<header class="post-header">
		<span class="post-meta">11 Jan 2013</span>
		<h2 class="post-title">
			
			<a href="/blog/2013/01/11/essential-mozilla-command-line/">
			
				Essential Mozilla Command Line</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p><em>This is a reference of some of the very important mozilla commands that I use in daily Terminal Life</em></p>

<h3>Requirements</h3>

<p>Set up Hg, Autoconf using Brew. Look up the instructions at the official website.</p>

<h3>Setting up of Source Directory</h3>

<p>Mozilla Code can be checked out from <a href="http://hg.mozilla.org.">http://hg.mozilla.org.</a> To set up a Thunderbird and Calendar clone on your local machine checkout the source code as</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>bash$ hg clone http://hg.mozilla.org/comm-central</span></code></pre></td></tr></table></div></figure>


<p>This will create a <code>comm-central</code> directory in your local machine
Now <code>comm-central</code> depends on a number of submodules which can be fetched by the following commands</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bash<span class="nv">$ </span><span class="nb">cd </span>comm-central
</span><span class='line'>bash<span class="nv">$ </span>python client.py checkout
</span></code></pre></td></tr></table></div></figure>


<p>This will fetch the submodules. It will take a while</p>

<h3>Compiling Code</h3>

<p>In order to build the calendar application create a <code>.mozconfig</code> file within <code>comm-central</code> and insert the following code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>mk_add_options <span class="nv">MOZ_OBJDIR</span><span class="o">=</span>@TOPSRCDIR@/obj-TB
</span><span class='line'>mk_add_options <span class="nv">AUTOCONF</span><span class="o">=</span>/usr/local/Cellar/autoconf213/2.13/bin/autoconf213
</span><span class='line'>ac_add_options --enable-calendar
</span><span class='line'>
</span><span class='line'><span class="c"># Turn off compiler optimization. This will make applications run slower,</span>
</span><span class='line'><span class="c"># will allow you to debug the applications under a debugger, like GDB.</span>
</span><span class='line'>ac_add_options --disable-optimize
</span><span class='line'>ac_add_options --disable-jemalloc
</span><span class='line'>
</span><span class='line'><span class="c"># -s makes builds quieter by default</span>
</span><span class='line'><span class="c"># -j4 allows 4 tasks to run in parallel. Set the number to be the amount of</span>
</span><span class='line'><span class="c"># cores in your machine. 4 is a good number.</span>
</span><span class='line'>
</span><span class='line'>mk_add_options <span class="nv">MOZ_MAKE_FLAGS</span><span class="o">=</span><span class="s2">&quot;-j4 -s --no-print-directory&quot;</span>
</span><span class='line'>mk_add_options <span class="nv">JS_READLINE</span><span class="o">=</span>1
</span><span class='line'><span class="nb">export </span><span class="nv">JS_READLINE</span><span class="o">=</span>1
</span><span class='line'>ac_add_options --disable-tests
</span><span class='line'>ac_add_options --disable-installer
</span></code></pre></td></tr></table></div></figure>


<p>Now fire away the compiler using the following command:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bash<span class="nv">$ </span>make -f client.mk
</span></code></pre></td></tr></table></div></figure>


<p>This will take quite a lot of time depending upon your machine&rsquo;s strength of course.</p>

<h3>Applying a patch</h3>

<p>From time to time, you might need to apply a patch from someone else, or maybe your own patch. This is quite easy, but note that if you plan on applying the patch, making some changes and then want to create a patch that doesn&rsquo;t contain the patch you originally applied, it might be quite a bit harder.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> <span class="nv">$MOZILLA</span>/calendar
</span><span class='line'><span class="c"># --dry-run tests the patching process to ensure that the patch will go</span>
</span><span class='line'><span class="c"># ahead cleanly. Be sure to run --dry-run at least once before running</span>
</span><span class='line'><span class="c"># the actual patching process.</span>
</span><span class='line'>patch -p1 -i ~/my_first_bug.diff --dry-run
</span><span class='line'><span class="c"># Now check if the patch applies cleanly, or you are willing to fix the </span>
</span><span class='line'><span class="c"># places it went wrong. When you are confident, you can call:</span>
</span><span class='line'>patch -p0 -i ~/my_first_bug.diff
</span><span class='line'>
</span><span class='line'><span class="c"># If the file to patch was not found, take a look at the patch headers. For</span>
</span><span class='line'><span class="c"># example, if the header contains &quot;+++ themes/winstripe/calendar-views.css&quot;,</span>
</span><span class='line'><span class="c"># then you need to go into the base directory and call again. If the header</span>
</span><span class='line'><span class="c"># contains &quot;+++ mozilla/calendar/base/Makefile.in&quot;, you can use -p2 instead to</span>
</span><span class='line'><span class="c"># strip the &quot;mozilla/calendar&quot; part.</span>
</span><span class='line'>patch -p2 -i ~/my_first_bug.diff
</span></code></pre></td></tr></table></div></figure>


<h3>Creating a patch</h3>

<p>Simply create a diff and store it somewhere</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bash<span class="nv">$ </span>hg diff &gt; ~/my_first_patch.diff
</span></code></pre></td></tr></table></div></figure>


<h3>Reverting a patch</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bash<span class="nv">$ </span>hg revert .
</span></code></pre></td></tr></table></div></figure>


<p>For more information refer to <a href="https://developer.mozilla.org/en-US/docs/Developer_Guide/Build_Instructions">Mozilla Documentation on Build</a></p>

	</section>

    </article>

  
    <article class="post">
      
	
	<header class="post-header">
		<span class="post-meta">10 Jan 2013</span>
		<h2 class="post-title">
			
			<a href="/blog/2013/01/10/creating-an-api-with-net-mvc4/">
			
				Creating an API With .NET MVC4</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<h2>Gist</h2>

<p><em>Recently while working on a vacation assigment I had to create an API in ASP .NET MVC. This was in order to create a booking system on top of the Google Calendar Event storage. Google provides 50000 calls per day free of chrage for the API so we thought this might work. But it also required some form of authentication to prevent the API facade from being misused.</em></p>

<h2>OpenId</h2>

<p>Well when you can&rsquo;t store the authentication result you need to think of some third party based authentication mechanism and OpenId is one those means. Most of the modern email and other service providers such as Dropbox etc provide openid schemes which can be leveraged to get basic userinfo and proceed to do something in web application.</p>

<h2>Nancy</h2>

<p>Nancy is a NuGet package which mimics Sinatra. It allows creation of Http GET, POST, DELETE requests as mere functions with much ease. However it does not supports sessions and hence was found to be very hard to use in some of the places. For most operations, however, Nancy is a fantastic option.</p>

<h2>ASP .NET MVC</h2>

<p>// Todo</p>

<h2>Authentication in MVC .NET</h2>

<p>// Todo</p>

	</section>

    </article>

  
    <article class="post">
      
	
	<header class="post-header">
		<span class="post-meta">11 Dec 2012</span>
		<h2 class="post-title">
			
			<a href="/blog/2012/12/11/a-home-called-india/">
			
				A Home Called India</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p><em>And now some random philosphical thoughts on what I think of India: my home</em></p>

<p><em>I am an Indian from India. For most of us, the buck stop right there. I grew up just like the rest of the kids in my colony: I thought we as a Nation are huge, the best in the world. Buoyed by my sense of patriotism I even wrote a story about an army related incursion in Kashmir which got published in Champak.I knew I had a passion for writing. Nationalism aside, 10 years out in the world, I don&rsquo;t think I am the same sane person I used to be back then.</em></p>

<h3>A lot has changed</h3>

<p>Industries grew. Computers overtook our lives. Terrorists became the No#1 menace of any democratic country/nation in the world. All this affected me mentally as a child. And that&rsquo;s because news was delivered to me in real-time by my Dad, who works in The Times of India (a leading English newspaper in India).</p>

<h3>Education was important, but not cheap and hence the expected returns</h3>

<p>Let&rsquo;s not digress into the discussion of arguing whether education was cheap or not or whether it must be equated to the same pedestal as the stock market which keeps toying between various shades of VIBGYOR. Let&rsquo;s just agree to the claim that Education was considered to be the golden ticket for the end of the road journey for which some people save, some people just hope to get along somehow. But this was not the case with Education. After chasing to be the brightest and the so-called <strong>cream</strong> I realized it too late that Education was merely a hall ticket to appear in examinations like the IIT and PMT, it was here that the real trading of horses was done, albeit in a grade-question-answer sort of fashion.</p>

<p>I don&rsquo;t know whether my battery ran out of juice or out of luck or out of hard work to run for these exams. I knew they were tough but I did not expect myself to face such obstacles, especially not after I donned the throne of being the <strong>cream</strong> in some colony, in some school.</p>

<p>A fat pay package comes because of education, and that&rsquo;s what everyone should think about. This is what I was told.</p>

<h3>Fundamentally flawed assumption</h3>

<p>If something is observed to be holding in a certain frame of reference does not mean it is true. I learnt this in statistics, unfortunately too late.</p>

<h3>Back to the point, India</h3>

<p>I see two systems here, an educational system and a money obsessed employment system. I don&rsquo;t know which one feeds the other. I can think of (Based on my Assumption above) the educational system being the culprit. A fine secondary education on my CV though does not allow me to make such a claim. On a closer detail however, it is revealed that major companies setup training institutes to train young graduates which sort of qualifies as an educational establishment, but I would like to argue otherwise as it is a directed process as compared to the seemingly freedom like approach of the Secondary school education system.</p>

<h3>India is full of opportunities and I can see it</h3>

<p>Talk about the BPO boom in India, its the past. Software is the new Hip trend these days. Degree does not matter, the company, the pay does. And everything else is a big fat circle called zero.</p>

<h3>Literally</h3>

<p>This is not the end, its just the beginning of a new discovery about a country I never found attractive.</p>

	</section>

    </article>

  
    <article class="post">
      
	
	<header class="post-header">
		<span class="post-meta">11 Dec 2012</span>
		<h2 class="post-title">
			
			<a href="/blog/2012/12/11/design-patterns-in-javascript-widget-based-design/">
			
				Design Patterns in Javascript: Widget Based Design</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p><em>One of the most important things people learn after doing/learning a new language or as-these-days a framework is to be able to apply one of the most sought after industrial practices in the form of design patterns.</em></p>

<p>The current semester I had a course involving hefty use of Design Patterns. The course CS3213-Software Design revolved in using design patterns and applying them to the world of software in extreme detail, which I never in my dreams would have imagined.</p>

<p>This is just great.</p>

<h2>The Course</h2>

<p>/// TODO:</p>

<h2>Design Patterns Learnt</h2>

<p>/// TODO:</p>

<h2>Applications Conceived</h2>

<p>/// TODO:</p>

<h2>Moving on</h2>

<p>/// TODO:</p>

	</section>

    </article>

  
    <article class="post">
      
	
	<header class="post-header">
		<span class="post-meta">01 Dec 2012</span>
		<h2 class="post-title">
			
			<a href="/blog/2012/12/01/a-web-service-for-multi-factor-authentication/">
			
				A Web Service for Multi-Factor Authentication</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p><em>One of the projects done by me this semester was making Multi-Factor Authentication available for use by other websites. This required hosting our MFA web service over the internet.</em></p>

	</section>

    </article>


<nav class="pagination" role="pagination">
  
    

    

    <a class="newer-posts" href=""> ← Newer Posts </a>
  

  <span class="page-number">
    Page 3 of 4
  </span>

  
    <a class="older-posts"
        href="//blog/page/4/">
      Older Posts →
    </a>
  
</nav>


  </main>
  <footer class="site-footer"><a class="subscribe icon-feed" href="http://blog.mohitkanwal.com/atom.xml"><span class="tooltip">Subscribe!</span></a>


<div class="inner">


Follow me on



<a class="social twitter" href="http://twitter.com/mohitkanwal" title="Twitter">Twitter</a>



<a class="social github" href="http://github.com/creativepsyco" title="GitHub">GitHub</a>




<section class="copyright">All content copyright <a href="/">Mohit Kanwal</a> © 2016 • All rights reserved.</section>

<section class="poweredby">Casper theme by <a class="icon-ghost" href="http://tryghost.org">Ghost</a> &amp; Published with <a href="http://octopress.org">Octopress</a></section>

</div>
</footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>



<script type="text/javascript">
      var disqus_shortname = 'creativepyscoblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-36037120-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</body>
</html>
